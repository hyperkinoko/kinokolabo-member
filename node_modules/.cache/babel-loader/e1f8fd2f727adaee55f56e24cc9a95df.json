{"remainingRequest":"/Users/kinoko/develop/kinokolabo-member/node_modules/babel-loader/lib/index.js!/Users/kinoko/develop/kinokolabo-member/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kinoko/develop/kinokolabo-member/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kinoko/develop/kinokolabo-member/src/components/StudentForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kinoko/develop/kinokolabo-member/src/components/StudentForm.vue","mtime":1561961817533},{"path":"/Users/kinoko/develop/kinokolabo-member/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kinoko/develop/kinokolabo-member/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kinoko/develop/kinokolabo-member/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kinoko/develop/kinokolabo-member/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: \"StudentForm\",\n  data: function data() {\n    return {\n      sameAs: false,\n      studentForm: {\n        guardianId: this.$route.query.guardian,\n        memberId: 0,\n        id: 0,\n        name: \"\",\n        // firstName: \"\",\n        nameKana: \"\",\n        // firstKanaName: \"\",\n        zip: \"\",\n        pref: 0,\n        addr: \"\",\n        tel1: \"\",\n        tel2: \"\",\n        mail: \"\",\n        notice: true,\n        bYear: \"\",\n        bMonth: \"\",\n        bDay: \"\" // passwd : \"\"\n\n      },\n      years: [],\n      prefs: [{\n        \"code\": 0,\n        \"name\": \"選択してください\"\n      }, {\n        \"code\": 1,\n        \"name\": \"北海道\"\n      }, {\n        \"code\": 2,\n        \"name\": \"青森県\"\n      }, {\n        \"code\": 3,\n        \"name\": \"岩手県\"\n      }, {\n        \"code\": 4,\n        \"name\": \"宮城県\"\n      }, {\n        \"code\": 5,\n        \"name\": \"秋田県\"\n      }, {\n        \"code\": 6,\n        \"name\": \"山形県\"\n      }, {\n        \"code\": 7,\n        \"name\": \"福島県\"\n      }, {\n        \"code\": 8,\n        \"name\": \"茨城県\"\n      }, {\n        \"code\": 9,\n        \"name\": \"栃木県\"\n      }, {\n        \"code\": 10,\n        \"name\": \"群馬県\"\n      }, {\n        \"code\": 11,\n        \"name\": \"埼玉県\"\n      }, {\n        \"code\": 12,\n        \"name\": \"千葉県\"\n      }, {\n        \"code\": 13,\n        \"name\": \"東京都\"\n      }, {\n        \"code\": 14,\n        \"name\": \"神奈川県\"\n      }, {\n        \"code\": 15,\n        \"name\": \"新潟県\"\n      }, {\n        \"code\": 16,\n        \"name\": \"富山県\"\n      }, {\n        \"code\": 17,\n        \"name\": \"石川県\"\n      }, {\n        \"code\": 18,\n        \"name\": \"福井県\"\n      }, {\n        \"code\": 19,\n        \"name\": \"山梨県\"\n      }, {\n        \"code\": 20,\n        \"name\": \"長野県\"\n      }, {\n        \"code\": 21,\n        \"name\": \"岐阜県\"\n      }, {\n        \"code\": 22,\n        \"name\": \"静岡県\"\n      }, {\n        \"code\": 23,\n        \"name\": \"愛知県\"\n      }, {\n        \"code\": 24,\n        \"name\": \"三重県\"\n      }, {\n        \"code\": 25,\n        \"name\": \"滋賀県\"\n      }, {\n        \"code\": 26,\n        \"name\": \"京都府\"\n      }, {\n        \"code\": 27,\n        \"name\": \"大阪府\"\n      }, {\n        \"code\": 28,\n        \"name\": \"兵庫県\"\n      }, {\n        \"code\": 29,\n        \"name\": \"奈良県\"\n      }, {\n        \"code\": 30,\n        \"name\": \"和歌山県\"\n      }, {\n        \"code\": 31,\n        \"name\": \"鳥取県\"\n      }, {\n        \"code\": 32,\n        \"name\": \"島根県\"\n      }, {\n        \"code\": 33,\n        \"name\": \"岡山県\"\n      }, {\n        \"code\": 34,\n        \"name\": \"広島県\"\n      }, {\n        \"code\": 35,\n        \"name\": \"山口県\"\n      }, {\n        \"code\": 36,\n        \"name\": \"徳島県\"\n      }, {\n        \"code\": 37,\n        \"name\": \"香川県\"\n      }, {\n        \"code\": 38,\n        \"name\": \"愛媛県\"\n      }, {\n        \"code\": 39,\n        \"name\": \"高知県\"\n      }, {\n        \"code\": 40,\n        \"name\": \"福岡県\"\n      }, {\n        \"code\": 41,\n        \"name\": \"佐賀県\"\n      }, {\n        \"code\": 42,\n        \"name\": \"長崎県\"\n      }, {\n        \"code\": 43,\n        \"name\": \"熊本県\"\n      }, {\n        \"code\": 44,\n        \"name\": \"大分県\"\n      }, {\n        \"code\": 45,\n        \"name\": \"宮崎県\"\n      }, {\n        \"code\": 46,\n        \"name\": \"鹿児島県\"\n      }, {\n        \"code\": 47,\n        \"name\": \"沖縄県\"\n      }],\n      rules: {\n        name: [{\n          required: true,\n          message: '入力必須です',\n          trigger: 'blur'\n        }],\n        // ame: [\n        //     {\n        //         validator: (rule, value, callback) => {\n        //             if (!value) {\n        //                 return callback(new Error('お名前は必須事項です'));\n        //             }\n        //         },\n        //         trigger: 'blur'\n        //     }\n        // ],\n        nameKana: [{\n          required: true,\n          message: '入力必須です',\n          trigger: 'blur'\n        }, {\n          pattern: /^[ァ-ヶー　]*$/,\n          message: '全角カタカナで',\n          trigger: 'blur'\n        }],\n        // ame: [\n        //     {\n        //         validator: (rule, value, callback) => {\n        //             if (!value) {\n        //                 return callback(new Error('フリガナは必須事項です'));\n        //             }\n        //             if(!value.match(/^[ァ-ヶー　]*$/)) {\n        //                 return callback(new Error('全角カタカナで入力してください'));\n        //             }\n        //         },\n        //         trigger: 'blur'\n        //     }\n        // ],\n        zip: [{\n          required: true,\n          message: '入力必須です',\n          trigger: 'blur'\n        }, {\n          pattern: /^[0-9]{7}$/,\n          message: '半角数字7桁',\n          trigger: 'blur'\n        }],\n        pref: [{\n          required: true,\n          message: '入力必須です',\n          trigger: 'blur'\n        }, {\n          type: \"number\",\n          min: 1,\n          message: '選択してください',\n          trigger: 'change'\n        }],\n        addr: [{\n          required: true,\n          message: '入力必須です',\n          trigger: 'blur'\n        }],\n        tel: [{\n          pattern: /^[0-9]{10}$|^[0-9]{11}$/,\n          message: '半角数字で入力してください',\n          trigger: 'blur'\n        }],\n        mail: [{\n          type: \"email\",\n          message: 'メールアドレスが間違っています',\n          trigger: 'blur'\n        }],\n        bYear: [{\n          required: true,\n          message: '入力必須です',\n          trigger: ' blur'\n        }],\n        bMonth: [{\n          required: true,\n          message: '入力必須です',\n          trigger: ' blur'\n        }],\n        bDay: [{\n          required: true,\n          message: '入力必須です',\n          trigger: ' blur'\n        }] // passwd: [\n        //     { required: true, message: '入力必須です', trigger: 'blur' },\n        // ],\n\n      }\n    };\n  },\n  methods: {\n    fetchMemberId: function fetchMemberId() {\n      if (this.sameAs) {\n        this.studentForm.memberId = this.$route.query.guardian;\n        this.studentForm.notice = false;\n      } else {\n        this.studentForm.memberId = 0;\n        this.studentForm.notice = true;\n      }\n    },\n    fetchDay: function fetchDay() {\n      var year = this.studentForm.bYear;\n      var month = this.studentForm.bMonth;\n      var day = this.studentForm.bDay;\n\n      if (year !== '' && month !== '' && day !== '') {\n        var lastDay = new Date(year, month, 0).getDate();\n\n        if (day > lastDay) {\n          this.studentForm.bDay = 1;\n        }\n      }\n    },\n    getYears: function getYears() {\n      var years = new Array();\n      var thisYear = new Date().getFullYear();\n\n      for (var y = 1920; y < thisYear; y++) {\n        years.push({\n          \"value\": y\n        });\n      }\n\n      return years;\n    },\n    getMonths: function getMonths() {\n      var months = new Array();\n\n      for (var m = 1; m <= 12; m++) {\n        months.push({\n          \"value\": m\n        });\n      }\n\n      return months;\n    },\n    getDays: function getDays(year, month) {\n      var days = new Array();\n      var lastDay = new Date(year, month, 0).getDate();\n\n      for (var d = 1; d <= lastDay; d++) {\n        days.push({\n          \"value\": d\n        });\n      }\n\n      return days;\n    },\n    regist: function regist() {\n      var _this = this;\n\n      this.$refs['studentForm'].validate(function (valied) {\n        if (valied) {\n          axios.post('https://kinokolabo.herokuapp.com/student/regist', _this.studentForm).then(function (res) {\n            console.log(\"登録完了 idは\" + res.data + \"です\");\n\n            _this.$router.push(\"/qrcode?id=\" + res.data);\n          }).catch(function (error) {\n            alert(\"エラー発生:\" + error);\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["StudentForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA;AACA,QAAA,UAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QADA;AAEA,QAAA,QAAA,EAAA,CAFA;AAGA,QAAA,EAAA,EAAA,CAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA;AACA,QAAA,QAAA,EAAA,EANA;AAOA;AACA,QAAA,GAAA,EAAA,EARA;AASA,QAAA,IAAA,EAAA,CATA;AAUA,QAAA,IAAA,EAAA,EAVA;AAWA,QAAA,IAAA,EAAA,EAXA;AAYA,QAAA,IAAA,EAAA,EAZA;AAaA,QAAA,IAAA,EAAA,EAbA;AAcA,QAAA,MAAA,EAAA,IAdA;AAeA,QAAA,KAAA,EAAA,EAfA;AAgBA,QAAA,MAAA,EAAA,EAhBA;AAiBA,QAAA,IAAA,EAAA,EAjBA,CAkBA;;AAlBA,OAFA;AAsBA,MAAA,KAAA,EAAA,EAtBA;AAuBA,MAAA,KAAA,EAAA,CACA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OADA,EAEA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OAFA,EAGA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OAHA,EAIA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OAJA,EAKA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OALA,EAMA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OANA,EAOA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OAPA,EAQA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OARA,EASA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OATA,EAUA;AAAA,gBAAA,CAAA;AAAA,gBAAA;AAAA,OAVA,EAWA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAXA,EAYA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAZA,EAaA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAbA,EAcA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAdA,EAeA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAfA,EAgBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAhBA,EAiBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAjBA,EAkBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAlBA,EAmBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAnBA,EAoBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OApBA,EAqBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OArBA,EAsBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAtBA,EAuBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAvBA,EAwBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAxBA,EAyBA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAzBA,EA0BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA1BA,EA2BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA3BA,EA4BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA5BA,EA6BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA7BA,EA8BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA9BA,EA+BA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA/BA,EAgCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAhCA,EAiCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAjCA,EAkCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAlCA,EAmCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAnCA,EAoCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OApCA,EAqCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OArCA,EAsCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAtCA,EAuCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAvCA,EAwCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAxCA,EAyCA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAzCA,EA0CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA1CA,EA2CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA3CA,EA4CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA5CA,EA6CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA7CA,EA8CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA9CA,EA+CA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OA/CA,EAgDA;AAAA,gBAAA,EAAA;AAAA,gBAAA;AAAA,OAhDA,CAvBA;AAyEA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CAdA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,GAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CA3CA;AA0DA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,IAAA,EAAA,QAAA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CA1DA;AAsEA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAtEA;AAiFA,QAAA,GAAA,EAAA,CACA;AAAA,UAAA,OAAA,EAAA,yBAAA;AAAA,UAAA,OAAA,EAAA,eAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAjFA;AA+FA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA,iBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CA/FA;AA6GA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CA7GA;AAgHA,QAAA,MAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAhHA;AAmHA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAnHA,CAuHA;AACA;AACA;;AAzHA;AAzEA,KAAA;AAqMA,GAxMA;AAyMA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,MAAA,EAAA;AACA,aAAA,WAAA,CAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,aAAA,WAAA,CAAA,MAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,WAAA,CAAA,QAAA,GAAA,CAAA;AACA,aAAA,WAAA,CAAA,MAAA,GAAA,IAAA;AACA;AACA,KATA;AAUA,IAAA,QAVA,sBAUA;AACA,UAAA,IAAA,GAAA,KAAA,WAAA,CAAA,KAAA;AACA,UAAA,KAAA,GAAA,KAAA,WAAA,CAAA,MAAA;AACA,UAAA,GAAA,GAAA,KAAA,WAAA,CAAA,IAAA;;AACA,UAAA,IAAA,KAAA,EAAA,IAAA,KAAA,KAAA,EAAA,IAAA,GAAA,KAAA,EAAA,EAAA;AACA,YAAA,OAAA,GAAA,IAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,CAAA,EAAA,OAAA,EAAA;;AACA,YAAA,GAAA,GAAA,OAAA,EAAA;AACA,eAAA,WAAA,CAAA,IAAA,GAAA,CAAA;AACA;AACA;AACA,KApBA;AAqBA,IAAA,QArBA,sBAqBA;AACA,UAAA,KAAA,GAAA,IAAA,KAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,IAAA,GAAA,WAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,IAAA,EAAA,CAAA,GAAA,QAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA;AAAA,mBAAA;AAAA,SAAA;AACA;;AACA,aAAA,KAAA;AACA,KA5BA;AA6BA,IAAA,SA7BA,uBA6BA;AACA,UAAA,MAAA,GAAA,IAAA,KAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA;AAAA,mBAAA;AAAA,SAAA;AACA;;AACA,aAAA,MAAA;AACA,KAnCA;AAoCA,IAAA,OApCA,mBAoCA,IApCA,EAoCA,KApCA,EAoCA;AACA,UAAA,IAAA,GAAA,IAAA,KAAA,EAAA;AACA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,CAAA,EAAA,OAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,IAAA,OAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA;AAAA,mBAAA;AAAA,SAAA;AACA;;AACA,aAAA,IAAA;AACA,KA3CA;AA4CA,IAAA,MA5CA,oBA4CA;AAAA;;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,QAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,iDAAA,EAAA,KAAA,CAAA,WAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,aAAA,GAAA,CAAA,IAAA,GAAA,IAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,GAAA,CAAA,IAAA;AACA,WAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,WAAA,KAAA,CAAA;AACA,WAPA;AAQA;AACA,OAXA;AAYA;AAzDA;AAzMA,CAAA","sourcesContent":["<template>\n    <el-form :model=\"studentForm\" :rules=\"rules\" ref=\"studentForm\" label-width=\"200px\" style=\"width: 700px;\">\n        <p><el-checkbox v-model=\"sameAs\" @change=\"fetchMemberId\">ご本人</el-checkbox></p>\n        <div v-if=\"!sameAs\">\n            <el-form-item label=\"お名前\" prop=\"name\">\n                <el-input type=\"text\" v-model=\"studentForm.name\" auto-complete=\"off\"></el-input>\n    <!--            <el-input type=\"text\" v-model=\"studentForm.firstName\" auto-complete=\"off\"></el-input>-->\n            </el-form-item>\n            <el-form-item label=\"フリガナ\" prop=\"nameKana\">\n                <el-input type=\"text\" v-model=\"studentForm.nameKana\" auto-complete=\"off\"></el-input>\n    <!--           <el-input type=\"text\" v-model=\"studentForm.firstKanaName\" auto-complete=\"off\"></el-input>-->\n            </el-form-item>\n            <el-form-item label=\"郵便番号\" prop=\"zip\">\n                <el-input type=\"text\" v-model=\"studentForm.zip\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"都道府県\" prop=\"pref\">\n                <el-select v-model=\"studentForm.pref\" placeholder=\"Select\">\n                    <el-option\n                            v-for=\"item in prefs\"\n                            :key=\"item.code\"\n                            :label=\"item.name\"\n                            :value=\"item.code\">\n                    </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"住所\" prop=\"addr\">\n                    <el-input type=\"text\" v-model=\"studentForm.addr\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"電話番号\" prop=\"tel\">\n                <el-input type=\"tel\" v-model=\"studentForm.tel\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"メールアドレス\" prop=\"mail\">\n                <el-input type=\"mail\" v-model=\"studentForm.mail\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-checkbox v-if=\"!sameAs\" v-model=\"studentForm.notice\">入退室を保護者さまに通知する</el-checkbox>\n            </el-form-item>\n<!--        <el-form-item label=\"パスワード\" prop=\"passwd\">-->\n<!--            <el-input type=\"password\" v-model=\"studentForm.passwd\" auto-complete=\"off\"></el-input>-->\n<!--        </el-form-item>-->\n        </div>\n        <el-form-item label=\"生年月日\" prop=\"bDay\">\n        <el-select v-model=\"studentForm.bYear\" class=\"col-3\" @change=\"fetchDay\" style=\"width: 8em\">\n            <el-option v-for=\"item in getYears()\"\n                       :key=\"item.value\"\n                       :label=\"item.value\"\n                       :value=\"item.value\">\n            </el-option>\n        </el-select>年\n            <el-select v-model=\"studentForm.bMonth\" class=\"col-3\" @change=\"fetchDay\" style=\"width: 8em;\">\n                <el-option v-for=\"item in getMonths()\"\n                           :key=\"item.value\"\n                           :label=\"item.value\"\n                           :value=\"item.value\">\n                </el-option>\n            </el-select>月\n            <el-select v-model=\"studentForm.bDay\" class=\"col-3\" :disabled=\"studentForm.bYear === '' || studentForm.bMonth === ''\" style=\"width: 8em\">\n                <el-option v-for=\"item in getDays(studentForm.bYear, studentForm.bMonth)\"\n                           :key=\"item.value\"\n                           :label=\"item.value\"\n                           :value=\"item.value\">\n                </el-option>\n            </el-select>日\n        </el-form-item>\n        <el-button style=\"float: right\" type=\"primary\" @click=\"regist\">登録</el-button>\n    </el-form>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    export default {\n        name: \"StudentForm\",\n        data() {\n            return {\n                sameAs : false,\n                studentForm: {\n                    guardianId : this.$route.query.guardian,\n                    memberId : 0,\n                    id: 0,\n                    name: \"\",\n                    // firstName: \"\",\n                    nameKana: \"\",\n                    // firstKanaName: \"\",\n                    zip: \"\",\n                    pref: 0,\n                    addr : \"\",\n                    tel1: \"\",\n                    tel2: \"\",\n                    mail: \"\",\n                    notice : true,\n                    bYear : \"\",\n                    bMonth : \"\",\n                    bDay : \"\",\n                    // passwd : \"\"\n                },\n                years: [],\n                prefs: [\n                    { \"code\": 0, \"name\": \"選択してください\"},\n                    { \"code\": 1, \"name\": \"北海道\"},\n                    { \"code\": 2, \"name\": \"青森県\"},\n                    { \"code\": 3, \"name\": \"岩手県\"},\n                    { \"code\": 4, \"name\": \"宮城県\"},\n                    { \"code\": 5, \"name\": \"秋田県\"},\n                    { \"code\": 6, \"name\": \"山形県\"},\n                    { \"code\": 7, \"name\": \"福島県\"},\n                    { \"code\": 8, \"name\": \"茨城県\"},\n                    { \"code\": 9, \"name\": \"栃木県\"},\n                    { \"code\": 10, \"name\": \"群馬県\"},\n                    { \"code\": 11, \"name\": \"埼玉県\"},\n                    { \"code\": 12, \"name\": \"千葉県\"},\n                    { \"code\": 13, \"name\": \"東京都\"},\n                    { \"code\": 14, \"name\": \"神奈川県\"},\n                    { \"code\": 15, \"name\": \"新潟県\"},\n                    { \"code\": 16, \"name\": \"富山県\"},\n                    { \"code\": 17, \"name\": \"石川県\"},\n                    { \"code\": 18, \"name\": \"福井県\"},\n                    { \"code\": 19, \"name\": \"山梨県\"},\n                    { \"code\": 20, \"name\": \"長野県\"},\n                    { \"code\": 21, \"name\": \"岐阜県\"},\n                    { \"code\": 22, \"name\": \"静岡県\"},\n                    { \"code\": 23, \"name\": \"愛知県\"},\n                    { \"code\": 24, \"name\": \"三重県\"},\n                    { \"code\": 25, \"name\": \"滋賀県\"},\n                    { \"code\": 26, \"name\": \"京都府\"},\n                    { \"code\": 27, \"name\": \"大阪府\"},\n                    { \"code\": 28, \"name\": \"兵庫県\"},\n                    { \"code\": 29, \"name\": \"奈良県\"},\n                    { \"code\": 30, \"name\": \"和歌山県\"},\n                    { \"code\": 31, \"name\": \"鳥取県\"},\n                    { \"code\": 32, \"name\": \"島根県\"},\n                    { \"code\": 33, \"name\": \"岡山県\"},\n                    { \"code\": 34, \"name\": \"広島県\"},\n                    { \"code\": 35, \"name\": \"山口県\"},\n                    { \"code\": 36, \"name\": \"徳島県\"},\n                    { \"code\": 37, \"name\": \"香川県\"},\n                    { \"code\": 38, \"name\": \"愛媛県\"},\n                    { \"code\": 39, \"name\": \"高知県\"},\n                    { \"code\": 40, \"name\": \"福岡県\"},\n                    { \"code\": 41, \"name\": \"佐賀県\"},\n                    { \"code\": 42, \"name\": \"長崎県\"},\n                    { \"code\": 43, \"name\": \"熊本県\"},\n                    { \"code\": 44, \"name\": \"大分県\"},\n                    { \"code\": 45, \"name\": \"宮崎県\"},\n                    { \"code\": 46, \"name\": \"鹿児島県\"},\n                    { \"code\": 47, \"name\": \"沖縄県\"}\n                    ],\n                rules: {\n                    name: [\n                        { required: true, message: '入力必須です', trigger: 'blur' }\n                    ],\n                    // ame: [\n                    //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (!value) {\n                    //                 return callback(new Error('お名前は必須事項です'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    // ],\n                    nameKana: [\n                        { required: true, message: '入力必須です', trigger: 'blur' },\n                        { pattern: /^[ァ-ヶー　]*$/, message: '全角カタカナで', trigger: 'blur' },\n\n                        // {\n                        //     validator: (rule, value, callback) => {\n                        //         if (!value) {\n                        //             return callback(new Error('フリガナは必須事項です'));\n                        //         }\n                        //         if(!value.match(/^[ァ-ヶー　]*$/)) {\n                        //             return callback(new Error('全角カタカナで入力してください'));\n                        //         }\n                        //     },\n                        //     trigger: 'blur'\n                        // }\n                    ],\n                    // ame: [\n                    //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (!value) {\n                    //                 return callback(new Error('フリガナは必須事項です'));\n                    //             }\n                    //             if(!value.match(/^[ァ-ヶー　]*$/)) {\n                    //                 return callback(new Error('全角カタカナで入力してください'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    // ],\n                    zip: [\n                        { required: true, message: '入力必須です', trigger: 'blur' },\n                        { pattern: /^[0-9]{7}$/, message: '半角数字7桁', trigger: 'blur' },\n                        // {\n                        //     validator: (rule, value, callback) => {\n                        //         if (!value) {\n                        //             return callback(new Error('郵便番号は必須事項です'));\n                        //         }\n                        //         if(!value.match(/^[0-9]{7}$/)) {\n                        //             return callback(new Error('半角数字7桁で入力してください'));\n                        //         }\n                        //     },\n                        //     trigger: 'blur'\n                        // }\n                    ],\n                    pref: [\n                        { required: true, message: '入力必須です', trigger: 'blur' },\n                        { type : \"number\", min: 1, message: '選択してください', trigger: 'change' },\n                    //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (value === 0) {\n                    //                 return callback(new Error('都道府県を選択してください'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    ],\n                    addr: [\n                        { required: true, message: '入力必須です', trigger: 'blur' },\n                        //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (!value) {\n                    //                 return callback(new Error('住所は必須事項です'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    ],\n                    tel: [\n                        { pattern: /^[0-9]{10}$|^[0-9]{11}$/, message: '半角数字で入力してください', trigger: 'blur' },\n                    //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (!value) {\n                    //                 return callback(new Error('電話番号は必須事項です'));\n                    //             }\n                    //             if(!(value.match(/^[0-9]{10}$|^[0-9]{11}$/))) {\n                    //                 return callback(new Error('半角数字で入力してください'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    ],\n                    mail: [\n                        { type: \"email\", message: 'メールアドレスが間違っています', trigger: 'blur' },\n                        //     {\n                    //         validator: (rule, value, callback) => {\n                    //             if (!value) {\n                    //                 return callback(new Error('メールアドレスは必須事項です'));\n                    //             }\n                    //             if(!value.match(/^[\\w_\\-\\.]+@[\\w\\-\\.]+\\.\\w{2,}$/)) {\n                    //                 return callback(new Error('半角英数字で入力してください'));\n                    //             }\n                    //         },\n                    //         trigger: 'blur'\n                    //     }\n                    ],\n                    bYear: [\n                        {required: true, message: '入力必須です', trigger: ' blur'}\n                    ],\n                    bMonth: [\n                        {required: true, message: '入力必須です', trigger: ' blur'}\n                    ],\n                    bDay: [\n                        {required: true, message: '入力必須です', trigger: ' blur'}\n                    ],\n\n                    // passwd: [\n                    //     { required: true, message: '入力必須です', trigger: 'blur' },\n                    // ],\n                }\n            }\n        },\n        methods : {\n            fetchMemberId() {\n                if(this.sameAs) {\n                    this.studentForm.memberId = this.$route.query.guardian\n                    this.studentForm.notice = false\n                } else {\n                    this.studentForm.memberId = 0\n                    this.studentForm.notice = true\n                }\n            },\n            fetchDay() {\n                const year = this.studentForm.bYear\n                const month = this.studentForm.bMonth\n                const day = this.studentForm.bDay\n                if(year !== '' && month !== '' && day !== '') {\n                    const lastDay = new Date(year, month, 0).getDate()\n                    if(day > lastDay) {\n                        this.studentForm.bDay = 1\n                    }\n                }\n            },\n            getYears() {\n                let years = new Array()\n                const thisYear = new Date().getFullYear()\n                for(let y = 1920; y < thisYear; y++) {\n                    years.push({\"value\": y})\n                }\n                return years\n            },\n            getMonths() {\n                let months = new Array()\n                for(let m = 1; m <= 12; m++) {\n                    months.push({\"value\": m})\n                }\n                return months\n            },\n            getDays(year, month) {\n                let days = new Array()\n                const lastDay = new Date(year, month, 0).getDate()\n                for(let d = 1; d <= lastDay; d++) {\n                    days.push({\"value\": d})\n                }\n                return days\n            },\n            regist() {\n                this.$refs['studentForm'].validate((valied) => {\n                    if(valied) {\n                        axios.post('https://kinokolabo.herokuapp.com/student/regist', this.studentForm)\n                            .then(res => {\n                                console.log(\"登録完了 idは\" + res.data + \"です\")\n                                this.$router.push(\"/qrcode?id=\" + res.data)\n                            })\n                            .catch(error => {\n                                alert(\"エラー発生:\" + error)\n                            })\n                    }\n                });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}